---
<<<<<<< HEAD
import { Image } from "astro:assets"
import { getSession } from "auth-astro/server"

const session = await getSession(Astro.request)
=======
import { Image } from "astro:assets";
>>>>>>> 377d451 (feat: #74 add team colors on the header)
---

<!-- navigation implementation goes here -->
<nav
  x-data="{ mobileMenuIsOpen: false }"
  x-on:click.away="mobileMenuIsOpen = false"
  class="flex items-center justify-between px-4 py-4"
  aria-label="penguin ui menu"
>
  <!-- Brand Logo -->
  <a href="/">
    <Image
      src="/images/coach_craft_logo.svg"
      alt="brand logo"
      width="90"
      height="90"
    />
  </a>

  <div class="flex flex-row">
    <!-- team colors container -->
    <div class="pr-5 flex items-end">
      <div class="flex flex-col items-end">
        <div class="flex h-5">
          <div class="w-7 rounded-l-sm -skew-x-25 bg-team-green"></div>
          <div class="w-7 ml-0.5 -skew-x-25 bg-team-yellow"></div>
          <div class="w-7 ml-0.5 -skew-x-25 bg-team-white"></div>
          <div class="w-7 ml-0.5 rounded-r-sm -skew-x-25 bg-team-red"></div>
        </div>
        <span class="text-xs mt-0.5">Mayfield United JSFC</span>
      </div>
    </div>

<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
      <!-- User Pic -->
      <li x-data="{ userDropDownIsOpen: false, openWithKeyboard: false }" x-on:keydown.esc.window="userDropDownIsOpen = false, openWithKeyboard = false" class="relative flex items-center">
        <button x-on:click="userDropDownIsOpen = ! userDropDownIsOpen" x-bind:aria-expanded="userDropDownIsOpen" x-on:keydown.space.prevent="openWithKeyboard = true" x-on:keydown.enter.prevent="openWithKeyboard = true" x-on:keydown.down.prevent="openWithKeyboard = true" class="rounded-full focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary dark:focus-visible:outline-primary-dark" aria-controls="userMenu">
          { session ? (
              <img src={session.user?.image} referrerpolicy="no-referrer" alt="profile picture" width="50" height="50">
            ) : (
              <Image src="/images/profile_icon.png" alt="User Profile" width="50" height="50" />
            )
          }
        </button>
        <!-- User Dropdown -->
        <ul x-cloak x-show="userDropDownIsOpen || openWithKeyboard" x-transition.opacity x-trap="openWithKeyboard" x-on:click.outside="userDropDownIsOpen = false, openWithKeyboard = false" x-on:keydown.down.prevent="$focus.wrap().next()" x-on:keydown.up.prevent="$focus.wrap().previous()" id="userMenu" class="absolute right-0 top-12 flex w-fit min-w-48 flex-col overflow-hidden rounded-radius border border-outline bg-surface-alt py-1.5 dark:border-outline-dark dark:bg-surface-dark-alt">
          <li class="border-b border-outline dark:border-outline-dark">
            <div class="flex flex-col px-4 py-2">	
              <span class="text-sm font-medium text-on-surface-strong dark:text-on-surface-dark-strong">Stuart</span>
              <p class="text-xs text-on-surface dark:text-on-surface-dark">stuart@gmail.com</p>
            </div>
          </li>
          <li><a href="#" class="block bg-surface-alt px-4 py-2 text-sm text-on-surface hover:bg-surface-dark-alt/5 hover:text-on-surface-strong focus-visible:bg-surface-dark-alt/10 focus-visible:text-on-surface-strong focus-visible:outline-hidden dark:bg-surface-dark-alt dark:text-on-surface-dark dark:hover:bg-surface-alt/5 dark:hover:text-on-surface-dark-strong dark:focus-visible:bg-surface-alt/10 dark:focus-visible:text-on-surface-dark-strong">Dashboard</a></li>
          <li><a href="#" class="block bg-surface-alt px-4 py-2 text-sm text-on-surface hover:bg-surface-dark-alt/5 hover:text-on-surface-strong focus-visible:bg-surface-dark-alt/10 focus-visible:text-on-surface-strong focus-visible:outline-hidden dark:bg-surface-dark-alt dark:text-on-surface-dark dark:hover:bg-surface-alt/5 dark:hover:text-on-surface-dark-strong dark:focus-visible:bg-surface-alt/10 dark:focus-visible:text-on-surface-dark-strong">Subscription</a></li>
          <li><a href="#" class="block bg-surface-alt px-4 py-2 text-sm text-on-surface hover:bg-surface-dark-alt/5 hover:text-on-surface-strong focus-visible:bg-surface-dark-alt/10 focus-visible:text-on-surface-strong focus-visible:outline-hidden dark:bg-surface-dark-alt dark:text-on-surface-dark dark:hover:bg-surface-alt/5 dark:hover:text-on-surface-dark-strong dark:focus-visible:bg-surface-alt/10 dark:focus-visible:text-on-surface-dark-strong">Settings</a></li>
          <li><a href="#" class="block bg-surface-alt px-4 py-2 text-sm text-on-surface hover:bg-surface-dark-alt/5 hover:text-on-surface-strong focus-visible:bg-surface-dark-alt/10 focus-visible:text-on-surface-strong focus-visible:outline-hidden dark:bg-surface-dark-alt dark:text-on-surface-dark dark:hover:bg-surface-alt/5 dark:hover:text-on-surface-dark-strong dark:focus-visible:bg-surface-alt/10 dark:focus-visible:text-on-surface-dark-strong">Sign Out</a></li>
        </ul>
      </li>
    </ul>
    <!-- Mobile Menu Button -->
=======
>>>>>>> 377d451 (feat: #74 add team colors on the header)
=======
>>>>>>> 126edb2 (feat: #74 add updated profile drop-down)
    <button x-on:click="mobileMenuIsOpen = !mobileMenuIsOpen" x-bind:aria-expanded="mobileMenuIsOpen" x-bind:class="mobileMenuIsOpen ? 'fixed top-6 right-6 z-20' : null" type="button" class="flex text-on-surface dark:text-on-surface-dark sm:hidden" aria-label="mobile menu" aria-controls="mobileMenu">
      <svg x-cloak x-show="!mobileMenuIsOpen" xmlns="http://www.w3.org/2000/svg" fill="none" aria-hidden="true" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
      </svg>
      <svg x-cloak x-show="mobileMenuIsOpen" xmlns="http://www.w3.org/2000/svg" fill="none" aria-hidden="true" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
      </svg>
    </button>
    <!-- Mobile Menu -->
    <ul x-cloak x-show="mobileMenuIsOpen" x-transition:enter="transition motion-reduce:transition-none ease-out duration-300" x-transition:enter-start="-translate-y-full" x-transition:enter-end="translate-y-0" x-transition:leave="transition motion-reduce:transition-none ease-out duration-300" x-transition:leave-start="translate-y-0" x-transition:leave-end="-translate-y-full" class="fixed max-h-svh overflow-y-auto inset-x-0 top-0 z-10 flex flex-col rounded-b-radius border-b border-outline bg-surface-alt px-8 pb-6 pt-10 dark:border-outline-dark dark:bg-surface-dark-alt sm:hidden">
      <li class="mb-4 border-none">
        <div class="flex items-center gap-2 py-2">
          <Image src="/images/profile_icon.png" alt="User Profile" width="55" height="55" />
          <div>
            <span class="font-medium text-on-surface-strong dark:text-on-surface-dark-strong">Stuart</span>
            <p class="text-sm text-on-surface dark:text-on-surface-dark">stuart@gmail.com</p>
          </div>	
        </div>
      </li>
      <hr role="none" class="my-2 border-outline dark:border-outline-dark">
      <li class="p-2"><a href="#" class="w-full text-on-surface focus:underline dark:text-on-surface-dark">Dashboard</a></li>
      <li class="p-2"><a href="#" class="w-full text-on-surface focus:underline dark:text-on-surface-dark">Subscription</a></li>
      <li class="p-2"><a href="#" class="w-full text-on-surface focus:underline dark:text-on-surface-dark">Settings</a></li>
      <!-- CTA Button -->
      <li class="mt-4 w-full border-none"><a href="#" class="rounded-radius bg-primary border-primary px-4 py-2 block text-center font-medium tracking-wide text-on-primary hover:opacity-75 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary active:opacity-100 active:outline-offset-0 dark:bg-primary-dark dark:border-primary-dark dark:text-on-primary-dark dark:focus-visible:outline-primary-dark">Sign Out</a></li>
    </ul>
  </nav>
=======
=======
>>>>>>> e294be1 (feat: #74 add profile btn displaying both user & team's icons)
    <!-- profile button -->
    <li
      x-data="{ userDropDownIsOpen: false, openWithKeyboard: false }"
      x-on:keydown.esc.window="userDropDownIsOpen = false, openWithKeyboard = false"
      class="hidden
            sm:relative
            sm:flex 
            sm:items-center"
    >
      <button
        x-on:click="userDropDownIsOpen = ! userDropDownIsOpen"
        x-bind:aria-expanded="userDropDownIsOpen"
        x-on:keydown.space.prevent="openWithKeyboard = true"
        x-on:keydown.enter.prevent="openWithKeyboard = true"
        x-on:keydown.down.prevent="openWithKeyboard = true"
        class="focus-visible:outline-2
              focus-visible:outline-offset-2
              focus-visible:outline-primary
              dark:focus-visible:outline-primary-dark
              cursor-pointer"
        aria-controls="userMenu"
      >
        <Image
          src="/images/profile_icon.png"
          alt="User Profile"
          width="50"
          height="50"
          class="relative z-10 border-5 border-bg-black rounded-full"
        />
        <Image
          src="/images/team_icon.png"
          alt="Team icon"
          width="50"
          height="50"
          class="absolute top-0 left-6 border-5 border-bg-black rounded-full"
        />
      </button>

      <!-- profile dropdown -->
      <ul
        x-cloak
        x-show="userDropDownIsOpen || openWithKeyboard"
        x-transition.opacity
        x-trap="openWithKeyboard"
        x-on:click.outside="userDropDownIsOpen = false, openWithKeyboard = false"
        x-on:keydown.down.prevent="$focus.wrap().next()"
        x-on:keydown.up.prevent="$focus.wrap().previous()"
        id="userMenu"
        class="absolute
              top-15 -right-5
              flex w-fit min-w-48 flex-col
              overflow-hidden rounded-radius
              border border-outline
              bg-surface-alt
              py-1
              dark:border-low-contrast-grey
              dark:bg-surface-dark-alt
              rounded-lg"
      >
        <li class="border-b border-outline dark:border-low-contrast-grey">
          <div class="flex flex-col px-4 py-2">
            <span
              class="text-sm font-medium text-on-surface-strong dark:text-on-surface-dark-strong"
              >Stuart</span
            >
            <p class="text-xs text-on-surface dark:text-on-surface-dark">
              stuart@gmail.com
            </p>
          </div>
        </li>
        <li>
          <a
            href="#"
            class="block
            bg-surface-alt
            px-4 py-2
            text-sm
            text-on-surface
            hover:cursor-pointer
            hover:bg-surface-dark-alt/5
            hover:text-on-surface-strong
            focus-visible:bg-surface-dark-alt/10
            focus-visible:text-on-surface-strong
            focus-visible:outline-hidden
            dark:bg-surface-dark-alt
            dark:text-on-surface-dark
            dark:hover:bg-surface-alt/5
            dark:hover:text-on-surface-dark-strong
            dark:focus-visible:bg-surface-alt/10
            dark:focus-visible:text-on-surface-dark-strong"
            >Sign Out</a
          >
        </li>
      </ul>
    </li>
  </div>
</nav>
