---
import MenuButton from "../common/MenuButton.astro";
---

<div x-data="{ sidebarIsOpen: false }" class="relative">
  <div
    x-show="sidebarIsOpen"
    class="fixed inset-0 z-20 bg-surface-dark/10 backdrop-blur-xs md:hidden"
    aria-hidden="true"
    x-on:click="sidebarIsOpen = false"
    x-transition.opacity
  >
  </div>

  <nav
    class="fixed left-0
    z-30 flex w-40
    shrink-0
    flex-col
    bg-surface-alt
    p-1
    transition-transform
    duration-300
    md:w-40 md:translate-x-0 md:relative
    dark:bg-surface-dark-alt"
    x-bind:class="sidebarIsOpen ? 'translate-x-0' : '-translate-x-60'"
    aria-label="sidebar navigation"
  >
    <div class="flex flex-col gap-3 overflow-y-auto w-full">
      <MenuButton
        label="Dashboard"
        page="dashboard"
        isSelected="$store.router.currentPage === 'dashboard'"
      />
      <MenuButton
        label="Activities"
        page="activities"
        isSelected="$store.router.currentPage === 'activities'"
      />
      <MenuButton
        label="Notes"
        page="notes"
        isSelected="$store.router.currentPage === 'notes'"
      />
      <MenuButton
        label="Scheduling"
        page="scheduling"
        isSelected="$store.router.currentPage === 'scheduling'"
      />
      <MenuButton
        label="Sessions"
        page="sessions"
        isSelected="$store.router.currentPage === 'sessions'"
      />
      <MenuButton
        label="Teams"
        page="teams"
        isSelected="$store.router.currentPage === 'teams'"
      />
      <MenuButton
        label="Settings"
        page="settings"
        isSelected="$store.router.currentPage === 'settings'"
      />
    </div>
  </nav>
</div>
