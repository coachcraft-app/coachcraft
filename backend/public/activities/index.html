<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><title>CoachCraft Activities</title><!-- Astro.js SPA mode, page transitions --><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.BZs-2RF_.js"></script><link rel="stylesheet" href="/_astro/activities.BnhM7orl.css"><script type="module" src="/_astro/page.iC29tAAt.js"></script></head> <body class="bg-bg-black mx-5 my-1"> <!-- Fetch user information and set profile picture --><script type="module">async function t(){try{const e=await fetch("/api/user");if(!e.ok)throw new Error(`Response status: ${e.status}`);return await e.json()}catch(e){console.error(e.message)}}async function s(){const e=await t(),r=document.getElementById("user_profile_pic");r&&(r.setAttribute("referrerpolicy","no-referrer"),r.setAttribute("src",e.picture))}document.addEventListener("astro:page-load",s);</script> <!-- navigation implementation goes here --><nav x-data="{ mobileMenuIsOpen: false }" x-on:click.away="mobileMenuIsOpen = false" class="flex items-center justify-between pr-4 pl-2 py-4" aria-label="penguin ui menu"> <!-- Brand Logo --> <a href="/"> <img src="/images/coach_craft_logo.svg" alt="brand logo" width="80" height="80" loading="lazy" decoding="async"> </a> <div class="flex flex-row"> <!-- team colors container --> <div class="pr-5 flex items-end"> <div class="flex flex-col items-end"> <div class="flex h-5"> <div class="w-7 rounded-l-sm -skew-x-25 bg-team-green"></div> <div class="w-7 ml-0.5 -skew-x-25 bg-team-yellow"></div> <div class="w-7 ml-0.5 -skew-x-25 bg-team-white"></div> <div class="w-7 ml-0.5 rounded-r-sm -skew-x-25 bg-team-red"></div> </div> <span class="text-xs mt-0.5">Mayfield United JSFC</span> </div> </div> <!-- profile button --> <li x-data="{ userDropDownIsOpen: false, openWithKeyboard: false }" x-on:keydown.esc.window="userDropDownIsOpen = false, openWithKeyboard = false" class="hidden
            sm:relative
            sm:flex
            sm:items-center"> <button x-on:click="userDropDownIsOpen = ! userDropDownIsOpen" x-bind:aria-expanded="userDropDownIsOpen" x-on:keydown.space.prevent="openWithKeyboard = true" x-on:keydown.enter.prevent="openWithKeyboard = true" x-on:keydown.down.prevent="openWithKeyboard = true" class="focus-visible:outline-2
              focus-visible:outline-offset-2
              focus-visible:outline-primary
              dark:focus-visible:outline-primary-dark
              cursor-pointer" aria-controls="userMenu"> <img src="/images/profile_icon.png" id="user_profile_pic" alt="User Profile" width="50" height="50" loading="lazy" decoding="async" class="relative z-10 border-3 border-bg-black rounded-full"> <img src="/images/team_icon.png" alt="Team icon" width="50" height="50" loading="lazy" decoding="async" class="absolute top-0 left-6 border-6 border-bg-black rounded-full"> </button> <!-- profile dropdown --> <ul x-cloak x-show="userDropDownIsOpen || openWithKeyboard" x-transition.opacity x-trap="openWithKeyboard" x-on:click.outside="userDropDownIsOpen = false, openWithKeyboard = false" x-on:keydown.down.prevent="$focus.wrap().next()" x-on:keydown.up.prevent="$focus.wrap().previous()" id="userMenu" class="absolute
              top-15 -right-5
              flex w-fit min-w-48 flex-col
              overflow-hidden rounded-radius
              border border-outline
              backdrop-blur-xs
              py-1
              dark:border-low-contrast-grey
              dark:bg-surface-dark-alt
              rounded-lg
              z-10"> <li class="border-b border-outline dark:border-low-contrast-grey"> <div class="flex flex-col px-4 py-2"> <span class="text-sm font-medium text-on-surface-strong dark:text-on-surface-dark-strong">Stuart</span> <p class="text-xs text-on-surface dark:text-on-surface-dark">
stuart@gmail.com
</p> </div> </li> <li> <a href="#" class="block
                  bg-surface-alt
                  px-4 py-2
                  text-sm
                  text-on-surface
                  hover:cursor-pointer
                  hover:bg-surface-dark-alt/5
                  hover:text-on-surface-strong
                  focus-visible:bg-surface-dark-alt/10
                  focus-visible:text-on-surface-strong
                  focus-visible:outline-hidden
                  dark:bg-surface-dark-alt
                  dark:text-on-surface-dark
                  dark:hover:bg-surface-alt/5
                  dark:hover:text-on-surface-dark-strong
                  dark:focus-visible:bg-surface-alt/10
                  dark:focus-visible:text-on-surface-dark-strong">Sign Out</a> </li> </ul> </li> <!-- mobile profile button --> <button x-on:click="mobileMenuIsOpen = !mobileMenuIsOpen" x-bind:aria-expanded="mobileMenuIsOpen" x-bind:class="mobileMenuIsOpen ? 'fixed top-6 right-6 z-20' : null" type="button" class="flex
            text-on-surface
            dark:text-on-surface-dark
            sm:hidden" aria-label="mobile menu" aria-controls="mobileMenu"> <svg x-cloak x-show="!mobileMenuIsOpen" xmlns="http://www.w3.org/2000/svg" fill="none" aria-hidden="true" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-6"> <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path> </svg> <svg x-cloak x-show="mobileMenuIsOpen" xmlns="http://www.w3.org/2000/svg" fill="none" aria-hidden="true" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-6"> <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"></path> </svg> </button> <!-- mobile profile dropdown --> <ul x-cloak x-show="mobileMenuIsOpen" x-transition:enter="transition motion-reduce:transition-none ease-out duration-300" x-transition:enter-start="-translate-y-full" x-transition:enter-end="translate-y-0" x-transition:leave="transition motion-reduce:transition-none ease-out duration-300" x-transition:leave-start="translate-y-0" x-transition:leave-end="-translate-y-full" class="fixed
            inset-x-0
            top-12
            z-10
            max-h-svh
            overflow-y-auto
            flex flex-col
            rounded-b-radius border-b border-outline
            bg-surface-alt
            px-8 pb-6 pt-10
            dark:border-outline-dark
            dark:bg-surface-dark-alt
            sm:hidden"> <li class="mb-4 border-none"> <div class="flex items-center gap-2 py-2"> <img src="/images/profile_icon.png" alt="User Profile" width="55" height="55" loading="lazy" decoding="async"> <div> <span class="font-medium text-on-surface-strong dark:text-on-surface-dark-strong">Stuart</span> <p class="text-sm text-on-surface dark:text-on-surface-dark">
stuart@gmail.com
</p> </div> </div> </li> <hr role="none" class="my-2 border-outline dark:border-outline-dark"> <li class="mt-4 w-full border-none"> <a href="/" class="rounded-radius
                bg-primary
                border-primary
                px-4 py-2
                block
                text-center
                font-medium tracking-wide text-on-primary
                hover:opacity-75
                focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
                active:opacity-100 active:outline-offset-0
                dark:bg-primary-dark
                dark:border-primary-dark
                dark:text-on-primary-dark
                dark:focus-visible:outline-primary-dark">
Dashboard
</a> <a href="/activities/" class="rounded-radius
                bg-primary
                border-primary
                px-4 py-2
                block
                text-center
                font-medium tracking-wide text-on-primary
                hover:opacity-75
                focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
                active:opacity-100 active:outline-offset-0
                dark:bg-primary-dark
                dark:border-primary-dark
                dark:text-on-primary-dark
                dark:focus-visible:outline-primary-dark">
Activities
</a> <a href="/notes/" class="rounded-radius
                bg-primary
                border-primary
                px-4 py-2
                block
                text-center
                font-medium tracking-wide text-on-primary
                hover:opacity-75
                focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
                active:opacity-100 active:outline-offset-0
                dark:bg-primary-dark
                dark:border-primary-dark
                dark:text-on-primary-dark
                dark:focus-visible:outline-primary-dark">
Notes
</a> <a href="/scheduling/" class="rounded-radius
                bg-primary
                border-primary
                px-4 py-2
                block
                text-center
                font-medium tracking-wide text-on-primary
                hover:opacity-75
                focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
                active:opacity-100 active:outline-offset-0
                dark:bg-primary-dark
                dark:border-primary-dark
                dark:text-on-primary-dark
                dark:focus-visible:outline-primary-dark">
Scheduling
</a> <a href="/settings/" class="rounded-radius
                bg-primary
                border-primary
                px-4 py-2
                block
                text-center
                font-medium tracking-wide text-on-primary
                hover:opacity-75
                focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
                active:opacity-100 active:outline-offset-0
                dark:bg-primary-dark
                dark:border-primary-dark
                dark:text-on-primary-dark
                dark:focus-visible:outline-primary-dark">
Settings
</a> <a href="#" class="rounded-radius
                bg-primary
                border-primary
                px-4 py-2
                block
                text-center
                font-medium tracking-wide text-on-primary
                hover:opacity-75
                focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
                active:opacity-100 active:outline-offset-0
                dark:bg-primary-dark
                dark:border-primary-dark
                dark:text-on-primary-dark
                dark:focus-visible:outline-primary-dark">
Sign Out
</a> </li> </ul> </div> </nav> <div class="flex gap-4 max-h-[85vh]"> <div x-data="{ sidebarIsOpen: false }" class="relative"> <div x-show="sidebarIsOpen" class="fixed inset-0 z-20 bg-surface-dark/10 backdrop-blur-xs md:hidden" aria-hidden="true" x-on:click="sidebarIsOpen = false" x-transition.opacity></div> <nav class="fixed left-0
    z-30 flex w-40
    shrink-0
    flex-col
    bg-surface-alt
    p-1
    transition-transform
    duration-300
    md:w-40 md:translate-x-0 md:relative
    dark:bg-surface-dark-alt" x-bind:class="sidebarIsOpen ? 'translate-x-0' : '-translate-x-60'" aria-label="sidebar navigation"> <div class="flex flex-col gap-3 overflow-y-auto w-full"> <a type="button" href="/" class="whitespace-nowrap
        bg-transparent
        border border-primary
        px-4 py-2
        text-sm font-medium
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> Dashboard </a> <a type="button" href="/activities/" class="whitespace-nowrap
        bg-low-contrast-grey
        border border-primary
        px-4 py-2
        text-sm font-medium
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> Activities </a> <a type="button" href="/notes/" class="whitespace-nowrap
        bg-transparent
        border border-primary
        px-4 py-2
        text-sm font-medium
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> Notes </a> <a type="button" href="/scheduling/" class="whitespace-nowrap
        bg-transparent
        border border-primary
        px-4 py-2
        text-sm font-medium
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> Scheduling </a> <a type="button" href="/sessions/" class="whitespace-nowrap
        bg-transparent
        border border-primary
        px-4 py-2
        text-sm font-medium
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> Sessions </a> <a type="button" href="/teams/" class="whitespace-nowrap
        bg-transparent
        border border-primary
        px-4 py-2
        text-sm font-medium
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> Teams </a> <a type="button" href="/settings/" class="whitespace-nowrap
        bg-transparent
        border border-primary
        px-4 py-2
        text-sm font-medium
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> Settings </a> </div> </nav> </div> <div class="w-full flex justify-center mt-10"> <div class="min-w-[80vw]">  <div x-data class="flex flex-row justify-center max-h-full"> <!-- left panel --> <div class="pr-[2.5vw]
            min-w-[13vw]
            overflow-y-auto
            flex flex-col gap-y-8
            pb-20" style="mask: linear-gradient(to bottom, black 0%, black 85%, transparent 100%); 
      -webkit-mask: linear-gradient(to bottom, black 0%, black 85%, transparent 100%);"> <div class="flex flex-col gap-y-2"> <input type="button" value="Manage Lists" x-data="{
  get onClick() { return $store.pages.activities.onManageLists(); }
}" @click="onClick" class="whitespace-nowrap
        bg-transparent
        rounded-radius
        block
        border border-primary
        w-full
        pl-4 pr-4 py-1.5
        text-sm font-medium
        cursor-pointer
        select-none
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> <input type="button" value="Create Activity" x-data="{
  get onClick() { return $store.pages.activities.createActivity(); }
}" @click="onClick" class="whitespace-nowrap
        bg-transparent
        rounded-radius
        block
        border border-primary
        w-full
        pl-4 pr-4 py-1.5
        text-sm font-medium
        cursor-pointer
        select-none
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> <div x-data="{
  defaultOption: &#34;All Activities&#34;,
  get options() { return $store.pages.activities.listsNames; },
  get onOptionSwitch() { return (listToSelect) => $store.pages.activities.onListSwitch(listToSelect); },
  selectedOption: &#34;All Activities&#34;,
  isOpen: false, 
  openedWithKeyboard: false
}" x-init="label = &#34;All Activities&#34;" class="relative w-full" x-on:keydown.esc.window="isOpen = false, openedWithKeyboard = false"> <div class="h-5"></div> <!-- Toggle Button --> <button type="button" x-on:click="isOpen = ! isOpen;" class="bg-transparent
                rounded-lg
                w-full
                border-2 border-primary
                px-4 py-2
                block
                text-sm font-medium
                text-primary
                text-left
                truncate
                tracking-wide
                transition
                cursor-pointer
                hover:opacity-75
                focus-visible:outline-2
                focus-visible:outline-offset-2
                focus-visible:outline-primary
                active:opacity-100
                active:outline-offset-0
                disabled:opacity-75
                disabled:cursor-not-allowed
                dark:border-low-contrast-grey
                dark:text-primary-dark
                dark:focus-visible:outline-primary-dark" aria-haspopup="true" x-on:keydown.space.prevent="openedWithKeyboard = true" x-on:keydown.enter.prevent="openedWithKeyboard = true" x-on:keydown.down.prevent="openedWithKeyboard = true" x-bind:class="isOpen || openedWithKeyboard ? 'text-on-surface-strong dark:text-on-surface-dark-strong' : 'text-on-surface dark:text-on-surface-dark'" x-bind:aria-expanded="isOpen || openedWithKeyboard"> <div class="flex items-center justify-between gap-2"> <span x-text="selectedOption"></span> <svg aria-hidden="true" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4 rotate-0 justify-self-end"> <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path> </svg> </div> </button> <!-- Dropdown Menu --> <div x-cloak x-show="isOpen || openedWithKeyboard" x-transition x-trap="openedWithKeyboard" x-on:click.outside="isOpen = false, openedWithKeyboard = false" x-on:keydown.down.prevent="$focus.wrap().next()" x-on:keydown.up.prevent="$focus.wrap().previous()" class="absolute
            flex w-full flex-col
            overflow-hidden rounded-radius
            border border-outline
            bg-bg-black
            py-1
            z-10
            dark:border-low-contrast-grey
            dark:bg-surface-dark-alt
            rounded-lg" role="menu"> <!-- default option stays fixed at the top of the list --> <div class="bg-surface-alt
                px-4 py-2
                text-sm
                select-none
                hover:opacity-75
                cursor-pointer" role="menuitem" x-text="defaultOption" @click="onOptionSwitch(defaultOption); selectedOption=defaultOption; isOpen = false; openedWithKeyboard = false" tabindex="0"></div> <template x-for="option in options"> <div class="bg-surface-alt
              px-4 py-2
              text-sm
              select-none
              hover:opacity-75
              cursor-pointer" role="menuitem" x-text="option" @click="onOptionSwitch(option); selectedOption=option; isOpen = false; openedWithKeyboard = false" tabindex="0"></div> </template> </div> </div> </div> <!-- activities list --> <div x-data class="flex flex-col gap-y-3"> <div x-data class="flex flex-col gap-y-1"> <p class="text-sm text-gray-400">
Activities:
<span x-text="$store.pages.activities.selectedListActivities.length"></span> </p> <hr class="border-gray-500/50"> </div> <template x-for="activity in $store.pages.activities.selectedListActivities" :key="activity.id"> <div x-bind:class="{
    'bg-low-contrast-grey': isSelected(), 
    'bg-neutral-800 dark:text-primary-dark': !isSelected()
  }" x-data="{ 
  get label() { return activity.name; }, 
  get id() { return activity.id; }, 
  isSelected() { return $store.pages.activities.selectedActivity == activity.id; },
  get onClick() { return (id) => $store.pages.activities.onActivitySelection(id); }
}" @click="onClick(id);" class="
        rounded-lg
        border border-primary
        px-4 py-2
        block
        text-sm font-medium
        text-primary
        text-left
        select-none
        truncate
        tracking-wide
        transition
        cursor-pointer

        hover:opacity-75

        focus-visible:outline-2 
        focus-visible:outline-offset-2 
        focus-visible:outline-primary

        active:opacity-100 
        active:outline-offset-0

        disabled:opacity-75 
        disabled:cursor-not-allowed

        dark:border-low-contrast-grey 

        dark:focus-visible:outline-primary-dark
      "> <span x-text="label"></span> </div> </template> </div> </div> <!-- right panel --> <div class="pl-[2.5vw]
            border-l-1
            border-l-gray-500/50
            grow
            max-w-[50vw]"> <!-- place holder for when no activity is selected --> <div x-data x-transition x-show="$store.pages.activities.rightPanelState == 'placeholder'" class="h-full w-full flex items-center justify-center"> <p class="text-gray-400 text-lg select-none">
Select or Create new Activity to get started.
</p> </div> <!-- manage lists --> <div x-data x-transition x-show="$store.pages.activities.rightPanelState == 'manage_lists'" class="h-full flex flex-col gap-25"> <div class="flex gap-5"> <div x-data="{
  defaultOption: &#34;undefined&#34;,
  get options() { return $store.pages.activities.listsNames; },
  get onOptionSwitch() { return (listToSelect) => $store.pages.activities.onManageListsListSwitch(listToSelect); },
  selectedOption: &#34;Select List&#34;,
  isOpen: false, 
  openedWithKeyboard: false
}" x-init="label = &#34;undefined&#34;" class="relative w-full" x-on:keydown.esc.window="isOpen = false, openedWithKeyboard = false"> <label class="w-fit pl-0.5 pt-0.5 text-sm text-gray-400">Select List</label> <!-- Toggle Button --> <button type="button" x-on:click="isOpen = ! isOpen;" class="bg-transparent
                rounded-lg
                w-full
                border-2 border-primary
                px-4 py-2
                block
                text-sm font-medium
                text-primary
                text-left
                truncate
                tracking-wide
                transition
                cursor-pointer
                hover:opacity-75
                focus-visible:outline-2
                focus-visible:outline-offset-2
                focus-visible:outline-primary
                active:opacity-100
                active:outline-offset-0
                disabled:opacity-75
                disabled:cursor-not-allowed
                dark:border-low-contrast-grey
                dark:text-primary-dark
                dark:focus-visible:outline-primary-dark" aria-haspopup="true" x-on:keydown.space.prevent="openedWithKeyboard = true" x-on:keydown.enter.prevent="openedWithKeyboard = true" x-on:keydown.down.prevent="openedWithKeyboard = true" x-bind:class="isOpen || openedWithKeyboard ? 'text-on-surface-strong dark:text-on-surface-dark-strong' : 'text-on-surface dark:text-on-surface-dark'" x-bind:aria-expanded="isOpen || openedWithKeyboard"> <div class="flex items-center justify-between gap-2"> <span x-text="selectedOption"></span> <svg aria-hidden="true" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4 rotate-0 justify-self-end"> <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path> </svg> </div> </button> <!-- Dropdown Menu --> <div x-cloak x-show="isOpen || openedWithKeyboard" x-transition x-trap="openedWithKeyboard" x-on:click.outside="isOpen = false, openedWithKeyboard = false" x-on:keydown.down.prevent="$focus.wrap().next()" x-on:keydown.up.prevent="$focus.wrap().previous()" class="absolute
            flex w-full flex-col
            overflow-hidden rounded-radius
            border border-outline
            bg-bg-black
            py-1
            z-10
            dark:border-low-contrast-grey
            dark:bg-surface-dark-alt
            rounded-lg" role="menu"> <!-- default option stays fixed at the top of the list -->  <template x-for="option in options"> <div class="bg-surface-alt
              px-4 py-2
              text-sm
              select-none
              hover:opacity-75
              cursor-pointer" role="menuitem" x-text="option" @click="onOptionSwitch(option); selectedOption=option; isOpen = false; openedWithKeyboard = false" tabindex="0"></div> </template> </div> </div> <input type="button" value="Create New List" x-data="{
  get onClick() { return $store.pages.activities.onCreateNewList(); }
}" @click="onClick" class="whitespace-nowrap
        bg-transparent
        rounded-radius
        block
        border border-primary
        w-fit
        pl-4 pr-4 py-1.5
        text-sm font-medium
        cursor-pointer
        select-none
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> </div> <div> <form class="flex flex-col gap-5" @submit.prevent="$store.pages.activities.onManageListsSaveChanges(event)"> <div class="flex items-center gap-5"> <div class="flex
        w-full
        flex-col
        gap-1
        text-on-surface
        dark:text-on-surface-dark"> <label class="w-fit pl-0.5 text-sm text-gray-400">List Name</label> <input id="textInputDefault" type="text" class="w-full
        rounded-radius
        rounded-lg
        outline-2
        px-2 py-2
        text-sm
        dark:outline-low-contrast-grey
        dark:focus-visible:outline-3
        dark:focus-visible:outline-low-contrast-grey-2
        disabled:cursor-not-allowed disabled:opacity-75" name="listName" placeholder="List" x-bind:value="$store.pages.activities.manageListsSelectedListObj?.name || ''" required> </div> <div x-data="{
  defaultOption: &#34;undefined&#34;,
  get options() { return $store.pages.activities.listAccentColorNames; },
  get onOptionSwitch() { return $store.pages.activities.onManageListsAccentColorPreviewSwitch; },
  selectedOption: &#34;Accent Color&#34;,
  isOpen: false, 
  openedWithKeyboard: false
}" x-init="label = &#34;undefined&#34;" class="relative w-full" x-on:keydown.esc.window="isOpen = false, openedWithKeyboard = false"> <label class="w-fit pl-0.5 pt-0.5 text-sm text-gray-400">Accent Color</label> <!-- Toggle Button --> <button type="button" x-on:click="isOpen = ! isOpen;" class="bg-transparent
                rounded-lg
                w-full
                border-2 border-primary
                px-4 py-2
                block
                text-sm font-medium
                text-primary
                text-left
                truncate
                tracking-wide
                transition
                cursor-pointer
                hover:opacity-75
                focus-visible:outline-2
                focus-visible:outline-offset-2
                focus-visible:outline-primary
                active:opacity-100
                active:outline-offset-0
                disabled:opacity-75
                disabled:cursor-not-allowed
                dark:border-low-contrast-grey
                dark:text-primary-dark
                dark:focus-visible:outline-primary-dark" aria-haspopup="true" x-on:keydown.space.prevent="openedWithKeyboard = true" x-on:keydown.enter.prevent="openedWithKeyboard = true" x-on:keydown.down.prevent="openedWithKeyboard = true" x-bind:class="isOpen || openedWithKeyboard ? 'text-on-surface-strong dark:text-on-surface-dark-strong' : 'text-on-surface dark:text-on-surface-dark'" x-bind:aria-expanded="isOpen || openedWithKeyboard"> <div class="flex items-center justify-between gap-2"> <span x-text="selectedOption"></span> <svg aria-hidden="true" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4 rotate-0 justify-self-end"> <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path> </svg> </div> </button> <!-- Dropdown Menu --> <div x-cloak x-show="isOpen || openedWithKeyboard" x-transition x-trap="openedWithKeyboard" x-on:click.outside="isOpen = false, openedWithKeyboard = false" x-on:keydown.down.prevent="$focus.wrap().next()" x-on:keydown.up.prevent="$focus.wrap().previous()" class="absolute
            flex w-full flex-col
            overflow-hidden rounded-radius
            border border-outline
            bg-bg-black
            py-1
            z-10
            dark:border-low-contrast-grey
            dark:bg-surface-dark-alt
            rounded-lg" role="menu"> <!-- default option stays fixed at the top of the list -->  <template x-for="option in options"> <div class="bg-surface-alt
              px-4 py-2
              text-sm
              select-none
              hover:opacity-75
              cursor-pointer" role="menuitem" x-text="option" @click="onOptionSwitch(option); selectedOption=option; isOpen = false; openedWithKeyboard = false" tabindex="0"></div> </template> </div> </div> </div> <div class="flex gap-5 mt-5"> <input type="submit" value="Save Changes" x-data="{
  get onClick() { return ; }
}" @click="onClick" class="whitespace-nowrap
        bg-transparent
        rounded-radius
        block
        border border-primary
        w-fit
        pl-4 pr-4 py-1.5
        text-sm font-medium
        cursor-pointer
        select-none
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> <input type="button" value="Delete List" x-data="{
  get onClick() { return $store.pages.activities.onDeleteList(); }
}" @click="onClick" class="whitespace-nowrap
        bg-transparent
        rounded-radius
        block
        border border-primary
        w-fit
        pl-4 pr-4 py-1.5
        text-sm font-medium
        cursor-pointer
        select-none
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> </div> </form> </div> </div> <!-- edit activity form --> <div class="flex flex-col gap-5" x-data x-transition:enter="transition ease-out duration-400" x-transition:enter-start="opacity-0 scale-85" x-transition:enter-end="opacity-100 scale-100" x-show="$store.pages.activities.rightPanelState == 'edit_activity'"> <!-- activity image --> <div x-data="{isEnlarged: false}"> <div> <div class="aspect-[16/5]
                  overflow-hidden
                  rounded-lg
                  w-full
                  relative
                  cursor-pointer
                  select-none
                  transition-all
                  duration-300" @click="isEnlarged = true;"> <img src="/images/activity_img_placeholder.jpg" alt="brand logo" width="500" height="200" loading="lazy" decoding="async" class="w-full transition-all duration-300 brightness-90 hover:brightness-70"> <!-- edit button --> <button type="button" class="absolute
                     bottom-3
                     right-3
                     w-10
                     h-10
                     cursor-pointer
                     bg-white/90
                     hover:brightness-90
                     rounded-lg
                     shadow-lg
                     flex
                     items-center
                     justify-center
                     transition-colors
                     duration-200
                     z-10" @click.stop=""> <svg class="w-5 h-5 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path> </svg> </button> </div> </div> <!-- enlarged image popup --> <div x-show="isEnlarged" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" class="fixed inset-0 select-none z-50 flex items-center justify-center bg-black/80" x-on:keydown.esc.window="isEnlarged = false;" @click="isEnlarged = false;"> <div x-transition:enter="transition ease-out duration-300 delay-100" x-transition:enter-start="opacity-0 scale-75" x-transition:enter-end="opacity-100 scale-100" x-transition:leave="transition ease-in duration-200" x-transition:leave-start="opacity-100 scale-100" x-transition:leave-end="opacity-0 scale-75" class="relative max-w-4xl max-h-[90vh] mx-4" @click.stop> <!-- Close button --> <button type="button" class="absolute
                     -top-4
                     -right-4
                     w-10
                     h-10
                     cursor-pointer
                     bg-white
                     hover:bg-gray-100
                     rounded-full
                     shadow-lg
                     flex
                     items-center
                     justify-center
                     transition-colors
                     duration-200
                     z-10" @click="isEnlarged = false;"> <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path> </svg> </button> <!-- Expanded image --> <img src="/images/activity_img_placeholder.jpg" alt="Activity image" width="800" height="400" loading="lazy" decoding="async" class="w-full h-auto rounded-lg shadow-2xl"> </div> </div> </div> <form class="flex flex-col gap-5" @submit.prevent="$store.pages.activities.onSaveChanges(event)"> <div class="flex
                    max-xl:flex-col
                    max-xl:max-w-full
                    gap-5"> <!-- xl: left-half --> <div class="flex flex-col gap-5 grow xl:max-w-1/2"> <div class="flex
        w-full
        flex-col
        gap-1
        text-on-surface
        dark:text-on-surface-dark"> <label class="w-fit pl-0.5 text-sm text-gray-400">Activity Name</label> <input id="textInputDefault" type="text" class="w-full
        rounded-radius
        rounded-lg
        outline-2
        px-2 py-2
        text-sm
        dark:outline-low-contrast-grey
        dark:focus-visible:outline-3
        dark:focus-visible:outline-low-contrast-grey-2
        disabled:cursor-not-allowed disabled:opacity-75" name="activityName" placeholder="Activity" x-bind:value="$store.pages.activities.selectedActivityObj?.name || ''" required> </div> <div class="flex
        w-full
        flex-col
        gap-1
        text-on-surface
        dark:text-on-surface-dark"> <label class="w-fit pl-0.5 text-sm text-gray-400">Duration</label> <input id="textInputDefault" type="text" class="w-full
        rounded-radius
        rounded-lg
        outline-2
        px-2 py-2
        text-sm
        dark:outline-low-contrast-grey
        dark:focus-visible:outline-3
        dark:focus-visible:outline-low-contrast-grey-2
        disabled:cursor-not-allowed disabled:opacity-75" name="duration" placeholder="HH:MM" x-bind:value="$store.pages.activities.selectedActivityObj?.duration || ''" required x-mask="99:99"> </div> <div class="flex flex-col
            w-full
            gap-1
            text-on-surface
            dark:text-on-surface-dark"> <label for="textArea" class="w-fit pl-0.5 text-sm text-gray-400">Description</label> <textarea id="textArea" class="w-full
        rounded-radius
        rounded-lg
        outline-2
        px-2 py-2
        text-sm
        dark:outline-low-contrast-grey
        dark:focus-visible:outline-3
        dark:focus-visible:outline-low-contrast-grey-2
        disabled:cursor-not-allowed disabled:opacity-75" rows="10" placeholder="Brief description such as sets, laps, plan, etc." name="description" x-bind:value="$store.pages.activities.selectedActivityObj?.description || ''"></textarea> </div> </div> <!-- xl: right-half --> <div class="grow xl:max-w-1/2"> <div x-data="{
  get items() { return $store.pages.activities.listsNames; },
  get checkedItems() { return $store.pages.activities.containingListsNames; },
  checkedItemsUpdated: [],
  get onUpdate() { return (containingList) => $store.pages.activities.onContainingListsUpdate(containingList); },
  isOpen: false, 
  openedWithKeyboard: false
}" class="flex
        flex-col
        relative
        w-full" x-init="$watch('checkedItems', value => {
    checkedItemsUpdated = Array.from(checkedItems); 
  });" x-on:keydown.esc.window="isOpen = false, openedWithKeyboard = false"> <label class="w-fit pl-0.5 pt-0.5 text-sm text-gray-400">Containing Lists</label> <!-- Toggle Button --> <button type="button" x-on:click="isOpen = ! isOpen;" class="bg-transparent
                rounded-lg
                w-full
                border-2 border-primary
                px-3 py-2
                block
                text-sm font-medium
                text-primary
                text-left
                tracking-wide
                transition
                cursor-pointer
                hover:opacity-75
                focus-visible:outline-2
                focus-visible:outline-offset-2
                focus-visible:outline-primary
                active:opacity-100
                active:outline-offset-0
                disabled:opacity-75
                disabled:cursor-not-allowed
                dark:border-low-contrast-grey
                dark:text-primary-dark
                dark:focus-visible:outline-primary-dark" aria-haspopup="true" x-on:keydown.space.prevent="openedWithKeyboard = true" x-on:keydown.enter.prevent="openedWithKeyboard = true" x-on:keydown.down.prevent="openedWithKeyboard = true" x-bind:class="isOpen || openedWithKeyboard ? 'text-on-surface-strong dark:text-on-surface-dark-strong' : 'text-on-surface dark:text-on-surface-dark'" x-bind:aria-expanded="isOpen || openedWithKeyboard"> <div class="flex items-center justify-between gap-2 w-full"> <span x-text="checkedItems.length == 0 ? 'No items selected' : checkedItems.join(', ')" class="w-full truncate"></span> <svg aria-hidden="true" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-4 rotate-0 justify-self-end"> <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"></path> </svg> </div> </button> <!-- Dropdown Menu --> <div x-cloak x-show="isOpen || openedWithKeyboard" x-transition x-trap="openedWithKeyboard" x-on:click.outside="isOpen = false, openedWithKeyboard = false" x-on:keydown.down.prevent="$focus.wrap().next()" x-on:keydown.up.prevent="$focus.wrap().previous()" class="absolute
            py-1
            flex w-full flex-col
            overflow-hidden rounded-radius
            border border-outline
            backdrop-blur-md
            dark:border-low-contrast-grey
            dark:bg-surface-dark-alt
            rounded-lg
            z-10" role="menu"> <template x-for="item in items"> <div class="flex items-center
              gap-3
              px-4 py-2
              select-none
              hover:opacity-75
              cursor-pointer" @click=" 
              if (checkedItemsUpdated.includes(item)) {
                checkedItemsUpdated = checkedItemsUpdated.filter(checkedItem => checkedItem != item);
                
              } else {
                checkedItemsUpdated.push(item);
              }
                
              onUpdate(checkedItemsUpdated)
            "> <input type="checkbox" :checked="checkedItems.includes(item)" :value="item" class="h-4 w-4
                  rounded
                border-gray-300
                  text-primary
                  pointer-events-none
                  focus:ring-primary
                  flex-shrink-0"> <label x-text="item" class="ml-0.5 cursor-pointer text-sm"></label> </div> </template> </div> </div> </div> </div> <div class="flex gap-5"> <input type="submit" value="Save Changes" x-data="{
  get onClick() { return ; }
}" @click="onClick" class="whitespace-nowrap
        bg-transparent
        rounded-radius
        block
        border border-primary
        w-fit
        pl-4 pr-4 py-1.5
        text-sm font-medium
        cursor-pointer
        select-none
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> <input type="button" value="Reset Changes" x-data="{
  get onClick() { return $store.pages.activities.onResetChanges(); }
}" @click="onClick" class="whitespace-nowrap
        bg-transparent
        rounded-radius
        block
        border border-primary
        w-fit
        pl-4 pr-4 py-1.5
        text-sm font-medium
        cursor-pointer
        select-none
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> <input type="button" value="Delete Activity" x-data="{
  get onClick() { return $store.pages.activities.onDeleteActivity(); }
}" @click="onClick" class="whitespace-nowrap
        bg-transparent
        rounded-radius
        block
        border border-primary
        w-fit
        pl-4 pr-4 py-1.5
        text-sm font-medium
        cursor-pointer
        select-none
        text-primary
        text-left
        tracking-wide
        transition
        hover:opacity-75
        focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary
        active:opacity-100 active:outline-offset-0
        disabled:opacity-75 disabled:cursor-not-allowed
        dark:border-low-contrast-grey
        dark:focus-visible:outline-primary-dark
        rounded-lg"> </div> </form> </div> </div> </div>  </div> </div> </div>  </body></html> <script>
  document.addEventListener('alpine:initialized', () => {
    this.Alpine.store("pages").activities.sync.sync();
  })
  document.addEventListener("astro:page-load", (event) => {
    this.Alpine.store("pages").activities.sync.sync();
  });
</script>